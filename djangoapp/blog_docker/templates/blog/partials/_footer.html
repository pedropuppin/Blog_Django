<footer class="footer section-wrapper">
  <div class="section-content-wide">
    <div class="section-gap">
      <div class="center">
          © {% now "Y" %} {{ site_setup.title }} - Todos os direitos reservados.
      </div>
    </div>
  </div>
</footer>

<script>
  (function () {
    // checa se o code mirror existe
    if (typeof CodeMirror == 'undefined') return;

    const codes = document.querySelectorAll('pre');
    
    // pega cada tag 'pre' e checa a linguagem para configurar o editor
    // o dataset.language é o data-language da tag
    for (const code of codes) {
      const language = code.dataset.language || null;
      const text = code.textContent || code.innerText;

      const config = {
        value: text,
        tabSize: 2,
        mode: language,
        theme: 'dracula',
        lineNumbers: true,
        styleActiveLine: true,
        styleActiveSelected: true,
        lineWrapping: false,
        line: true,
        readOnly: true,
        viewportMargin: 50,
        matchBrackets: true,
      };

      const editor = CodeMirror(function (node) {
        code.parentNode.replaceChild(node, code);
      }, config);
    }
  })();
</script>